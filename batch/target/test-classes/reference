-- Autogenerated: do not edit this file

CREATE TABLE BATCH_JOB_INSTANCE  (
	JOB_INSTANCE_ID BIGINT  NOT NULL PRIMARY KEY ,
	VERSION BIGINT ,
	JOB_NAME VARCHAR(100) NOT NULL,
	JOB_KEY VARCHAR(32) NOT NULL,
	constraint JOB_INST_UN unique (JOB_NAME, JOB_KEY)
) ENGINE=InnoDB;

CREATE TABLE BATCH_JOB_EXECUTION  (
	JOB_EXECUTION_ID BIGINT  NOT NULL PRIMARY KEY ,
	VERSION BIGINT  ,
	JOB_INSTANCE_ID BIGINT NOT NULL,
	CREATE_TIME DATETIME(6) NOT NULL,
	START_TIME DATETIME(6) DEFAULT NULL ,
	END_TIME DATETIME(6) DEFAULT NULL ,
	STATUS VARCHAR(10) ,
	EXIT_CODE VARCHAR(2500) ,
	EXIT_MESSAGE VARCHAR(2500) ,
	LAST_UPDATED DATETIME(6),
	constraint JOB_INST_EXEC_FK foreign key (JOB_INSTANCE_ID)
	references BATCH_JOB_INSTANCE(JOB_INSTANCE_ID)
) ENGINE=InnoDB;

CREATE TABLE BATCH_JOB_EXECUTION_PARAMS  (
	JOB_EXECUTION_ID BIGINT NOT NULL ,
	PARAMETER_NAME VARCHAR(100) NOT NULL ,
	PARAMETER_TYPE VARCHAR(100) NOT NULL ,
	PARAMETER_VALUE VARCHAR(2500) ,
	IDENTIFYING CHAR(1) NOT NULL ,
	constraint JOB_EXEC_PARAMS_FK foreign key (JOB_EXECUTION_ID)
	references BATCH_JOB_EXECUTION(JOB_EXECUTION_ID)
) ENGINE=InnoDB;

CREATE TABLE BATCH_STEP_EXECUTION  (
	STEP_EXECUTION_ID BIGINT  NOT NULL PRIMARY KEY ,
	VERSION BIGINT NOT NULL,
	STEP_NAME VARCHAR(100) NOT NULL,
	JOB_EXECUTION_ID BIGINT NOT NULL,
	CREATE_TIME DATETIME(6) NOT NULL,
	START_TIME DATETIME(6) DEFAULT NULL ,
	END_TIME DATETIME(6) DEFAULT NULL ,
	STATUS VARCHAR(10) ,
	COMMIT_COUNT BIGINT ,
	READ_COUNT BIGINT ,
	FILTER_COUNT BIGINT ,
	WRITE_COUNT BIGINT ,
	READ_SKIP_COUNT BIGINT ,
	WRITE_SKIP_COUNT BIGINT ,
	PROCESS_SKIP_COUNT BIGINT ,
	ROLLBACK_COUNT BIGINT ,
	EXIT_CODE VARCHAR(2500) ,
	EXIT_MESSAGE VARCHAR(2500) ,
	LAST_UPDATED DATETIME(6),
	constraint JOB_EXEC_STEP_FK foreign key (JOB_EXECUTION_ID)
	references BATCH_JOB_EXECUTION(JOB_EXECUTION_ID)
) ENGINE=InnoDB;

CREATE TABLE BATCH_STEP_EXECUTION_CONTEXT  (
	STEP_EXECUTION_ID BIGINT NOT NULL PRIMARY KEY,
	SHORT_CONTEXT VARCHAR(2500) NOT NULL,
	SERIALIZED_CONTEXT TEXT ,
	constraint STEP_EXEC_CTX_FK foreign key (STEP_EXECUTION_ID)
	references BATCH_STEP_EXECUTION(STEP_EXECUTION_ID)
) ENGINE=InnoDB;

CREATE TABLE BATCH_JOB_EXECUTION_CONTEXT  (
	JOB_EXECUTION_ID BIGINT NOT NULL PRIMARY KEY,
	SHORT_CONTEXT VARCHAR(2500) NOT NULL,
	SERIALIZED_CONTEXT TEXT ,
	constraint JOB_EXEC_CTX_FK foreign key (JOB_EXECUTION_ID)
	references BATCH_JOB_EXECUTION(JOB_EXECUTION_ID)
) ENGINE=InnoDB;

CREATE TABLE BATCH_STEP_EXECUTION_SEQ (
	ID BIGINT NOT NULL,
	UNIQUE_KEY CHAR(1) NOT NULL,
	constraint UNIQUE_KEY_UN unique (UNIQUE_KEY)
) ENGINE=InnoDB;

INSERT INTO BATCH_STEP_EXECUTION_SEQ (ID, UNIQUE_KEY) select * from (select 0 as ID, '0' as UNIQUE_KEY) as tmp where not exists(select * from BATCH_STEP_EXECUTION_SEQ);

CREATE TABLE BATCH_JOB_EXECUTION_SEQ (
	ID BIGINT NOT NULL,
	UNIQUE_KEY CHAR(1) NOT NULL,
	constraint UNIQUE_KEY_UN unique (UNIQUE_KEY)
) ENGINE=InnoDB;

INSERT INTO BATCH_JOB_EXECUTION_SEQ (ID, UNIQUE_KEY) select * from (select 0 as ID, '0' as UNIQUE_KEY) as tmp where not exists(select * from BATCH_JOB_EXECUTION_SEQ);

CREATE TABLE BATCH_JOB_SEQ (
	ID BIGINT NOT NULL,
	UNIQUE_KEY CHAR(1) NOT NULL,
	constraint UNIQUE_KEY_UN unique (UNIQUE_KEY)
) ENGINE=InnoDB;

INSERT INTO BATCH_JOB_SEQ (ID, UNIQUE_KEY) select * from (select 0 as ID, '0' as UNIQUE_KEY) as tmp where not exists(select * from BATCH_JOB_SEQ);






INSERT INTO batch_product (price, name) VALUES
(100.00, 'Product 101'),
(101.00, 'Product 102'),
(102.00, 'Product 103'),
(103.00, 'Product 104'),
(104.00, 'Product 105'),
(105.00, 'Product 106'),
(106.00, 'Product 107'),
(107.00, 'Product 108'),
(108.00, 'Product 109'),
(109.00, 'Product 110'),
(110.00, 'Product 111'),
(111.00, 'Product 112'),
(112.00, 'Product 113'),
(113.00, 'Product 114'),
(114.00, 'Product 115'),
(115.00, 'Product 116'),
(116.00, 'Product 117'),
(117.00, 'Product 118'),
(118.00, 'Product 119'),
(119.00, 'Product 120'),
(120.00, 'Product 121'),
(121.00, 'Product 122'),
(122.00, 'Product 123'),
(123.00, 'Product 124'),
(124.00, 'Product 125'),
(125.00, 'Product 126'),
(126.00, 'Product 127'),
(127.00, 'Product 128'),
(128.00, 'Product 129'),
(129.00, 'Product 130'),
(130.00, 'Product 131'),
(131.00, 'Product 132'),
(132.00, 'Product 133'),
(133.00, 'Product 134'),
(134.00, 'Product 135'),
(135.00, 'Product 136'),
(136.00, 'Product 137'),
(137.00, 'Product 138'),
(138.00, 'Product 139'),
(139.00, 'Product 140'),
(140.00, 'Product 141'),
(141.00, 'Product 142'),
(142.00, 'Product 143'),
(143.00, 'Product 144'),
(144.00, 'Product 145'),
(145.00, 'Product 146'),
(146.00, 'Product 147'),
(147.00, 'Product 148'),
(148.00, 'Product 149'),
(149.00, 'Product 150'),
(150.00, 'Product 151'),
(151.00, 'Product 152'),
(152.00, 'Product 153'),
(153.00, 'Product 154'),
(154.00, 'Product 155'),
(155.00, 'Product 156'),
(156.00, 'Product 157'),
(157.00, 'Product 158'),
(158.00, 'Product 159'),
(159.00, 'Product 160'),
(160.00, 'Product 161'),
(161.00, 'Product 162'),
(162.00, 'Product 163'),
(163.00, 'Product 164'),
(164.00, 'Product 165'),
(165.00, 'Product 166'),
(166.00, 'Product 167'),
(167.00, 'Product 168'),
(168.00, 'Product 169'),
(169.00, 'Product 170'),
(170.00, 'Product 171'),
(171.00, 'Product 172'),
(172.00, 'Product 173'),
(173.00, 'Product 174'),
(174.00, 'Product 175'),
(175.00, 'Product 176'),
(176.00, 'Product 177'),
(177.00, 'Product 178'),
(178.00, 'Product 179'),
(179.00, 'Product 180'),
(180.00, 'Product 181'),
(181.00, 'Product 182'),
(182.00, 'Product 183'),
(183.00, 'Product 184'),
(184.00, 'Product 185'),
(185.00, 'Product 186'),
(186.00, 'Product 187'),
(187.00, 'Product 188'),
(188.00, 'Product 189'),
(189.00, 'Product 190'),
(190.00, 'Product 191'),
(191.00, 'Product 192'),
(192.00, 'Product 193'),
(193.00, 'Product 194'),
(194.00, 'Product 195'),
(195.00, 'Product 196'),
(196.00, 'Product 197'),
(197.00, 'Product 198'),
(198.00, 'Product 199'),
(199.00, 'Product 200');



CREATE TABLE batch_product (
    id INT PRIMARY KEY,
    price DECIMAL(10, 2) NOT NULL,
    name VARCHAR(255) NOT NULL,
    processed BOOLEAN DEFAULT FALSE,
    datetime TIMESTAMP
);




INSERT INTO batch_product (id, price, name) VALUES
(101, 100.00, 'Product 101'),
(102, 101.00, 'Product 102'),
(103, 102.00, 'Product 103'),
(104, 103.00, 'Product 104'),
(105, 104.00, 'Product 105'),
(106, 105.00, 'Product 106'),
(107, 106.00, 'Product 107'),
(108, 107.00, 'Product 108'),
(109, 108.00, 'Product 109'),
(110, 109.00, 'Product 110'),
(111, 110.00, 'Product 111'),
(112, 111.00, 'Product 112'),
(113, 112.00, 'Product 113'),
(114, 113.00, 'Product 114'),
(115, 114.00, 'Product 115'),
(116, 115.00, 'Product 116'),
(117, 116.00, 'Product 117'),
(118, 117.00, 'Product 118'),
(119, 118.00, 'Product 119'),
(120, 119.00, 'Product 120'),
(121, 120.00, 'Product 121'),
(122, 121.00, 'Product 122'),
(123, 122.00, 'Product 123'),
(124, 123.00, 'Product 124'),
(125, 124.00, 'Product 125'),
(126, 125.00, 'Product 126'),
(127, 126.00, 'Product 127'),
(128, 127.00, 'Product 128'),
(129, 128.00, 'Product 129'),
(130, 129.00, 'Product 130'),
(131, 130.00, 'Product 131'),
(132, 131.00, 'Product 132'),
(133, 132.00, 'Product 133'),
(134, 133.00, 'Product 134'),
(135, 134.00, 'Product 135'),
(136, 135.00, 'Product 136'),
(137, 136.00, 'Product 137'),
(138, 137.00, 'Product 138'),
(139, 138.00, 'Product 139'),
(140, 139.00, 'Product 140'),
(141, 140.00, 'Product 141'),
(142, 141.00, 'Product 142'),
(143, 142.00, 'Product 143'),
(144, 143.00, 'Product 144'),
(145, 144.00, 'Product 145'),
(146, 145.00, 'Product 146'),
(147, 146.00, 'Product 147'),
(148, 147.00, 'Product 148'),
(149, 148.00, 'Product 149'),
(150, 149.00, 'Product 150'),
(151, 150.00, 'Product 151'),
(152, 151.00, 'Product 152'),
(153, 152.00, 'Product 153'),
(154, 153.00, 'Product 154'),
(155, 154.00, 'Product 155'),
(156, 155.00, 'Product 156'),
(157, 156.00, 'Product 157'),
(158, 157.00, 'Product 158'),
(159, 158.00, 'Product 159'),
(160, 159.00, 'Product 160'),
(161, 160.00, 'Product 161'),
(162, 161.00, 'Product 162'),
(163, 162.00, 'Product 163'),
(164, 163.00, 'Product 164'),
(165, 164.00, 'Product 165'),
(166, 165.00, 'Product 166'),
(167, 166.00, 'Product 167'),
(168, 167.00, 'Product 168'),
(169, 168.00, 'Product 169'),
(170, 169.00, 'Product 170'),
(171, 170.00, 'Product 171'),
(172, 171.00, 'Product 172'),
(173, 172.00, 'Product 173'),
(174, 173.00, 'Product 174'),
(175, 174.00, 'Product 175'),
(176, 175.00, 'Product 176'),
(177, 176.00, 'Product 177'),
(178, 177.00, 'Product 178'),
(179, 178.00, 'Product 179'),
(180, 179.00, 'Product 180'),
(181, 180.00, 'Product 181'),
(182, 181.00, 'Product 182'),
(183, 182.00, 'Product 183'),
(184, 183.00, 'Product 184'),
(185, 184.00, 'Product 185'),
(186, 185.00, 'Product 186'),
(187, 186.00, 'Product 187'),
(188, 187.00, 'Product 188'),
(189, 188.00, 'Product 189'),
(190, 189.00, 'Product 190'),
(191, 190.00, 'Product 191'),
(192, 191.00, 'Product 192'),
(193, 192.00, 'Product 193'),
(194, 193.00, 'Product 194'),
(195, 194.00, 'Product 195'),
(196, 195.00, 'Product 196'),
(197, 196.00, 'Product 197'),
(198, 197.00, 'Product 198'),
(199, 198.00, 'Product 199'),
(200, 199.00, 'Product 200');
